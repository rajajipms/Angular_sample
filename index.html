<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
(function(w,d,s,r,k,h,m){
	if(w.performance && w.performance.timing && w.performance.navigation) {
		w[r] = w[r] || function(){(w[r].q = w[r].q || []).push(arguments)};
		h=d.createElement('script');h.async=true;h.setAttribute('src',s+k);
		d.getElementsByTagName('head')[0].appendChild(h);
		(m = window.onerror),(window.onerror = function (b, c, d, f, g) {
		m && m(b, c, d, f, g),g || (g = new Error(b)),(w[r].q = w[r].q || []).push(["captureException",g]);})
	}
})(window,document,'//col.localsite24x7.com/rum/resources/beacon/site24x7rum-min.js?appKey=','s247r','bc37c98fa3323bd33ccaa3a3d56e38ac');
</script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</head>
<body>
<script type="text/javascript">
	try{
// 1. Get the element
var typingTimer;                // Timer identifier
var doneTypingInterval = 2000;  // Time in ms (2 seconds)
var listenerAttached = false;   // Flag to prevent multiple listeners
// 2. Listen for 'input' (handles typing, pasting, and cutting)
// Poll for the element every 100ms until it's found
var elementCheckInterval = setInterval(function() {
	var inputInput = document.getElementById('txtInput');
	
	if (inputInput && !listenerAttached) {
		listenerAttached = true;
		clearInterval(elementCheckInterval); // Stop polling once found
		console.log("Element found, listener attached!");

		// Listen for 'input' (handles typing, pasting, and cutting)
		inputInput.addEventListener('input', function () {
			// Clear the previous timer (reset the countdown)
			clearTimeout(typingTimer);

			// Start a new timer
			typingTimer = setTimeout(function () {
				// This code runs 2 seconds after the user stops typing
				var finalValue = inputInput.value;
				
				// Only send if not empty (optional check)
				if(finalValue) {
					s247r('userId', finalValue);
					console.log("Captured: " + finalValue); // For testing
				}
			}, doneTypingInterval);
		});
	}
}, 100); // Check every 100ms
}catch(e){}
</script>

<script>
var app = angular.module("myShoppingList", []); 
app.controller("myCtrl", function($scope) {
    $scope.products = ["Milk2", "Bread", "Cheese"];
    $scope.addItem = function () {
        $scope.errortext = "";
        if (!$scope.addMe) {return;}        
        if ($scope.products.indexOf($scope.addMe) == -1) {
            $scope.products.push($scope.addMe);
        } else {
            $scope.errortext = "The item is already in your shopping list.";
        }
    }
    $scope.removeItem = function (x) {
        $scope.errortext = "";    
        $scope.products.splice(x, 1);
    }
});
</script>

<div ng-app="myShoppingList" ng-controller="myCtrl">
  <ul>
    <li ng-repeat="x in products">{{x}}<span ng-click="removeItem($index)">Ã—</span></li>
  </ul>
  <input ng-model="addMe">
  <button ng-click="addItem()">Add</button>
  <p>{{errortext}}</p>
</div>

<p>Try to add the same item twice, and you will get an error message.</p>

<div>
    Check me.. Code starts here!!
    <input id="txtInput" type="text"/>
    <button onclick="testScript()">TestScript</button>
</div>

	
<script type="application/backbase+xml">
<xi:include href="../../backbase/4_4_1/bindings/config.xml">
</xi:include>
<div style="margin: 80px 0 0 20px; width: 300px;">
<p> Please type your name and click OK: </p>
<input id="myInput" type="text" />
<button style="margin-left: 10px;">
OK
<e:handler event="click" type="text/javascript">
var oBalloon = bb.document.getElementById('myBalloon');
var oInput = bb.document.getElementById('myInput');
var sValue = bb.getProperty(oInput,'value');
bb.command.setText(oBalloon, 'Hello: ' + sValue,'replaceChildren');
oBalloon.setAttribute('open', 'true');
</e:handler>
</button>
<b:balloon label="Backbase says:"
id="myBalloon" mode="top-center"
timeout="10s" width="250px" />
</div>
</script>
	
</body>
</html>

